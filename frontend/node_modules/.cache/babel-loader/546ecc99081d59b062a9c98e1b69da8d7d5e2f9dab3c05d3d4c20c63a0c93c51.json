{"ast":null,"code":"var _jsxFileName = \"/Users/aadyakumar/Documents/ecomm-mern/frontend/src/components/ProductList.js\",\n  _s = $RefreshSig$();\n// frontend/src/components/ProductList.js\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { loadCart, saveCart } from '../utils/cart';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ProductList() {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [cartCount, setCartCount] = useState(loadCart().reduce((s, i) => s + i.qty, 0));\n  useEffect(() => {\n    axios.get('/api/products').then(res => setProducts(res.data)).catch(err => console.error(err)).finally(() => setLoading(false));\n  }, []);\n  function addToCart(product) {\n    const cart = loadCart();\n    const existing = cart.find(i => i.productId === product._id);\n    if (existing) {\n      existing.qty += 1;\n    } else {\n      cart.push({\n        productId: product._id,\n        name: product.name,\n        price: product.price,\n        qty: 1\n      });\n    }\n    saveCart(cart);\n    setCartCount(cart.reduce((s, i) => s + i.qty, 0));\n    alert(`${product.name} added to cart`);\n  }\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 22\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: 12\n      },\n      children: [\"Cart items: \", cartCount, \" \\u2014 \", /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/checkout\",\n        children: \"Go to checkout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 64\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), products.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No products yet.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 33\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: products.map(p => /*#__PURE__*/_jsxDEV(\"li\", {\n        style: {\n          marginBottom: 16\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontWeight: 600\n              },\n              children: p.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 42,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: '#6b7280'\n              },\n              children: [\"\\u20B9\", p.price, \" \\u2022 \", p.countInStock, \" in stock\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 43,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: 6\n              },\n              children: p.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 44,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => addToCart(p),\n              style: {\n                padding: '8px 12px'\n              },\n              children: \"Add to cart\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: 8\n              },\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: `/products/${p._id}`,\n                children: \"View\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 48,\n                columnNumber: 44\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 13\n        }, this)\n      }, p._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n}\n_s(ProductList, \"7Q0plXz1OJf4DZOn0aZm2ItD158=\");\n_c = ProductList;\nvar _c;\n$RefreshReg$(_c, \"ProductList\");","map":{"version":3,"names":["React","useEffect","useState","axios","loadCart","saveCart","Link","jsxDEV","_jsxDEV","ProductList","_s","products","setProducts","loading","setLoading","cartCount","setCartCount","reduce","s","i","qty","get","then","res","data","catch","err","console","error","finally","addToCart","product","cart","existing","find","productId","_id","push","name","price","alert","children","fileName","_jsxFileName","lineNumber","columnNumber","style","marginBottom","to","length","map","p","display","justifyContent","alignItems","fontWeight","color","countInStock","marginTop","description","onClick","padding","_c","$RefreshReg$"],"sources":["/Users/aadyakumar/Documents/ecomm-mern/frontend/src/components/ProductList.js"],"sourcesContent":["// frontend/src/components/ProductList.js\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { loadCart, saveCart } from '../utils/cart';\nimport { Link } from 'react-router-dom';\n\nexport default function ProductList(){\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [cartCount, setCartCount] = useState(loadCart().reduce((s,i)=>s+i.qty,0));\n\n  useEffect(() => {\n    axios.get('/api/products')\n      .then(res => setProducts(res.data))\n      .catch(err => console.error(err))\n      .finally(() => setLoading(false));\n  }, []);\n\n  function addToCart(product) {\n    const cart = loadCart();\n    const existing = cart.find(i => i.productId === product._id);\n    if (existing) {\n      existing.qty += 1;\n    } else {\n      cart.push({ productId: product._id, name: product.name, price: product.price, qty: 1 });\n    }\n    saveCart(cart);\n    setCartCount(cart.reduce((s,i)=>s+i.qty,0));\n    alert(`${product.name} added to cart`);\n  }\n\n  if(loading) return <div>Loading...</div>;\n  return (\n    <div>\n      <div style={{marginBottom:12}}>Cart items: {cartCount} — <Link to=\"/checkout\">Go to checkout</Link></div>\n      {products.length === 0 && <p>No products yet.</p>}\n      <ul>\n        {products.map(p => (\n          <li key={p._id} style={{ marginBottom: 16 }}>\n            <div style={{ display:'flex', justifyContent:'space-between', alignItems:'center' }}>\n              <div>\n                <div style={{fontWeight:600}}>{p.name}</div>\n                <div style={{color:'#6b7280'}}>₹{p.price} • {p.countInStock} in stock</div>\n                <div style={{marginTop:6}}>{p.description}</div>\n              </div>\n              <div>\n                <button onClick={() => addToCart(p)} style={{ padding:'8px 12px' }}>Add to cart</button>\n                <div style={{marginTop:8}}><Link to={`/products/${p._id}`}>View</Link></div>\n              </div>\n            </div>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}