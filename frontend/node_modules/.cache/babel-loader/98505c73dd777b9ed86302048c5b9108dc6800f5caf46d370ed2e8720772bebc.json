{"ast":null,"code":"var _jsxFileName = \"/Users/aadyakumar/Documents/ecomm-mern/frontend/src/pages/CheckoutPage.js\",\n  _s = $RefreshSig$();\n// frontend/src/pages/CheckoutPage.js\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { loadCart, saveCart, clearCart } from '../utils/cart';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CheckoutPage() {\n  _s();\n  const [cart, setCart] = useState(loadCart());\n  const [shipping, setShipping] = useState({\n    address: '',\n    city: '',\n    postalCode: '',\n    country: ''\n  });\n  const [coupon, setCoupon] = useState('');\n  const [offerResult, setOfferResult] = useState(null);\n  const [isPlacingOrder, setIsPlacingOrder] = useState(false);\n  const navigate = useNavigate();\n  useEffect(() => setCart(loadCart()), []);\n  const itemsPrice = cart.reduce((s, it) => s + it.price * it.qty, 0);\n  const tax = +(itemsPrice * 0.05).toFixed(2);\n  const shippingPrice = itemsPrice > 1000 ? 0 : 50;\n  const subtotal = +(itemsPrice + tax + shippingPrice).toFixed(2);\n  const totalAfterCoupon = offerResult ? offerResult.newTotal + tax + shippingPrice : subtotal;\n  async function applyCoupon() {\n    if (!coupon.trim()) return alert('Enter coupon code');\n    try {\n      const res = await axios.post('/api/offers/apply', {\n        code: coupon.trim().toUpperCase(),\n        itemsPrice\n      });\n      setOfferResult(res.data);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      alert(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'Failed to apply coupon');\n      setOfferResult(null);\n    }\n  }\n  async function placeOrder() {\n    if (cart.length === 0) return alert('Cart is empty');\n    if (!shipping.address || !shipping.city || !shipping.postalCode || !shipping.country) {\n      return alert('Please fill in all shipping details');\n    }\n    setIsPlacingOrder(true);\n    const orderItems = cart.map(i => ({\n      product: i.productId,\n      name: i.name,\n      price: i.price,\n      qty: i.qty\n    }));\n    const itemsPrice = cart.reduce((s, it) => s + it.price * it.qty, 0);\n    const discounts = offerResult ? offerResult.discount : 0;\n    const finalItemsPrice = +(itemsPrice - discounts).toFixed(2);\n    const taxPrice = +(finalItemsPrice * 0.05).toFixed(2);\n    const shippingPrice = finalItemsPrice > 1000 ? 0 : 50;\n    const totalPrice = +(finalItemsPrice + taxPrice + shippingPrice).toFixed(2);\n    try {\n      const payload = {\n        orderItems,\n        shippingAddress: shipping,\n        paymentMethod: 'COD',\n        itemsPrice: finalItemsPrice,\n        taxPrice,\n        shippingPrice,\n        totalPrice\n      };\n      const res = await axios.post('/api/orders', payload);\n      clearCart();\n      alert('Order placed successfully! Order ID: ' + res.data._id);\n      navigate('/');\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      alert(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || 'Failed to place order');\n      setIsPlacingOrder(false);\n    }\n  }\n  function updateQty(idx, delta) {\n    const newCart = [...cart];\n    newCart[idx].qty = Math.max(1, newCart[idx].qty + delta);\n    saveCart(newCart);\n    setCart(newCart);\n  }\n  function removeItem(idx) {\n    if (!window.confirm('Remove this item from cart?')) return;\n    const newCart = [...cart];\n    newCart.splice(idx, 1);\n    saveCart(newCart);\n    setCart(newCart);\n    if (newCart.length === 0) {\n      setOfferResult(null);\n    }\n  }\n  if (cart.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"checkout-page\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"checkout-page-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"empty-cart\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"empty-cart-icon\",\n            children: \"\\uD83D\\uDED2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Your cart is empty\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Add some products to your cart to continue shopping.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/products\",\n            className: \"btn\",\n            children: \"Continue Shopping\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"checkout-page\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"checkout-page-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"checkout-title\",\n        children: \"Checkout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"checkout-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"checkout-left\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart-items-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"section-title\",\n              children: [\"Cart Items (\", cart.length, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart-items-list\",\n              children: cart.map((it, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"cart-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"cart-item-image\",\n                  children: it.image ? /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: it.image,\n                    alt: it.name,\n                    onError: e => {\n                      e.target.src = 'https://via.placeholder.com/100x100?text=No+Image';\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 110,\n                    columnNumber: 25\n                  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"cart-item-placeholder\",\n                    children: \"No Image\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 118,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 108,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"cart-item-details\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"cart-item-name\",\n                    children: it.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 122,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"cart-item-price\",\n                    children: [\"\\u20B9\", it.price.toLocaleString()]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 123,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"cart-item-actions\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"quantity-controls-small\",\n                      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"qty-btn-small\",\n                        onClick: () => updateQty(idx, -1),\n                        disabled: it.qty <= 1,\n                        children: \"\\u2212\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 126,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"qty-display\",\n                        children: it.qty\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 133,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"qty-btn-small\",\n                        onClick: () => updateQty(idx, +1),\n                        children: \"+\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 134,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 125,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"remove-item-btn\",\n                      onClick: () => removeItem(idx),\n                      children: \"Remove\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 141,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 124,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 121,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"cart-item-total\",\n                  children: [\"\\u20B9\", (it.price * it.qty).toLocaleString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 149,\n                  columnNumber: 21\n                }, this)]\n              }, it.productId || idx, true, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"checkout-right\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"checkout-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"section-title\",\n              children: \"Apply Coupon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"coupon-input-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"coupon-input\",\n                placeholder: \"Enter coupon code (e.g. WELCOME10)\",\n                value: coupon,\n                onChange: e => setCoupon(e.target.value),\n                onKeyPress: e => e.key === 'Enter' && applyCoupon()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"coupon-btn\",\n                onClick: applyCoupon,\n                children: \"Apply\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 15\n            }, this), offerResult && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"coupon-success\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"coupon-success-icon\",\n                children: \"\\u2713\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: offerResult.offer.code\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 21\n                }, this), \" applied\", /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"coupon-discount\",\n                  children: [\"-\\u20B9\", offerResult.discount.toLocaleString(), \" (\", offerResult.offer.discountPercent, \"% off)\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"checkout-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"section-title\",\n              children: \"Shipping Address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"shipping-form\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"form-input\",\n                placeholder: \"Street Address\",\n                value: shipping.address,\n                onChange: e => setShipping({\n                  ...shipping,\n                  address: e.target.value\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"form-input\",\n                  placeholder: \"City\",\n                  value: shipping.city,\n                  onChange: e => setShipping({\n                    ...shipping,\n                    city: e.target.value\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 199,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"form-input\",\n                  placeholder: \"Postal Code\",\n                  value: shipping.postalCode,\n                  onChange: e => setShipping({\n                    ...shipping,\n                    postalCode: e.target.value\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"form-input\",\n                placeholder: \"Country\",\n                value: shipping.country,\n                onChange: e => setShipping({\n                  ...shipping,\n                  country: e.target.value\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"checkout-section order-summary\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"section-title\",\n              children: \"Order Summary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"Subtotal (\", cart.reduce((s, it) => s + it.qty, 0), \" items)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\u20B9\", itemsPrice.toLocaleString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 15\n            }, this), offerResult && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-row discount-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Coupon Discount\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"-\\u20B9\", offerResult.discount.toLocaleString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Tax (5%)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\u20B9\", tax]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Shipping\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: shippingPrice === 0 ? 'Free' : `‚Çπ${shippingPrice}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-divider\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-row total-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Total\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\u20B9\", totalAfterCoupon.toLocaleString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"place-order-btn\",\n            onClick: placeOrder,\n            disabled: isPlacingOrder,\n            children: isPlacingOrder ? 'Placing Order...' : 'Place Order (Cash on Delivery)'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/products\",\n            className: \"continue-shopping-link\",\n            children: \"\\u2190 Continue Shopping\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 5\n  }, this);\n}\n_s(CheckoutPage, \"x2lk77QwGwtD4F0HUWQqGNNh2EY=\", false, function () {\n  return [useNavigate];\n});\n_c = CheckoutPage;\nvar _c;\n$RefreshReg$(_c, \"CheckoutPage\");","map":{"version":3,"names":["React","useEffect","useState","Link","axios","loadCart","saveCart","clearCart","useNavigate","jsxDEV","_jsxDEV","CheckoutPage","_s","cart","setCart","shipping","setShipping","address","city","postalCode","country","coupon","setCoupon","offerResult","setOfferResult","isPlacingOrder","setIsPlacingOrder","navigate","itemsPrice","reduce","s","it","price","qty","tax","toFixed","shippingPrice","subtotal","totalAfterCoupon","newTotal","applyCoupon","trim","alert","res","post","code","toUpperCase","data","err","_err$response","_err$response$data","response","message","placeOrder","length","orderItems","map","i","product","productId","name","discounts","discount","finalItemsPrice","taxPrice","totalPrice","payload","shippingAddress","paymentMethod","_id","_err$response2","_err$response2$data","updateQty","idx","delta","newCart","Math","max","removeItem","window","confirm","splice","className","children","fileName","_jsxFileName","lineNumber","columnNumber","to","image","src","alt","onError","e","target","toLocaleString","onClick","disabled","type","placeholder","value","onChange","onKeyPress","key","offer","discountPercent","_c","$RefreshReg$"],"sources":["/Users/aadyakumar/Documents/ecomm-mern/frontend/src/pages/CheckoutPage.js"],"sourcesContent":["// frontend/src/pages/CheckoutPage.js\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { loadCart, saveCart, clearCart } from '../utils/cart';\nimport { useNavigate } from 'react-router-dom';\n\nexport default function CheckoutPage(){\n  const [cart, setCart] = useState(loadCart());\n  const [shipping, setShipping] = useState({ address:'', city:'', postalCode:'', country:'' });\n  const [coupon, setCoupon] = useState('');\n  const [offerResult, setOfferResult] = useState(null);\n  const [isPlacingOrder, setIsPlacingOrder] = useState(false);\n  const navigate = useNavigate();\n\n  useEffect(()=> setCart(loadCart()), []);\n\n  const itemsPrice = cart.reduce((s, it) => s + (it.price * it.qty), 0);\n  const tax = +(itemsPrice * 0.05).toFixed(2);\n  const shippingPrice = itemsPrice > 1000 ? 0 : 50;\n  const subtotal = +(itemsPrice + tax + shippingPrice).toFixed(2);\n  const totalAfterCoupon = offerResult ? offerResult.newTotal + tax + shippingPrice : subtotal;\n\n  async function applyCoupon() {\n    if (!coupon.trim()) return alert('Enter coupon code');\n    try {\n      const res = await axios.post('/api/offers/apply', { code: coupon.trim().toUpperCase(), itemsPrice });\n      setOfferResult(res.data);\n    } catch (err) {\n      alert(err.response?.data?.message || 'Failed to apply coupon');\n      setOfferResult(null);\n    }\n  }\n\n  async function placeOrder() {\n    if (cart.length === 0) return alert('Cart is empty');\n    if (!shipping.address || !shipping.city || !shipping.postalCode || !shipping.country) {\n      return alert('Please fill in all shipping details');\n    }\n    \n    setIsPlacingOrder(true);\n    const orderItems = cart.map(i => ({ product: i.productId, name: i.name, price: i.price, qty: i.qty }));\n    const itemsPrice = cart.reduce((s, it) => s + (it.price * it.qty), 0);\n    const discounts = offerResult ? offerResult.discount : 0;\n    const finalItemsPrice = +(itemsPrice - discounts).toFixed(2);\n    const taxPrice = +(finalItemsPrice * 0.05).toFixed(2);\n    const shippingPrice = finalItemsPrice > 1000 ? 0 : 50;\n    const totalPrice = +(finalItemsPrice + taxPrice + shippingPrice).toFixed(2);\n\n    try {\n      const payload = { orderItems, shippingAddress: shipping, paymentMethod: 'COD', itemsPrice: finalItemsPrice, taxPrice, shippingPrice, totalPrice };\n      const res = await axios.post('/api/orders', payload);\n      clearCart();\n      alert('Order placed successfully! Order ID: ' + res.data._id);\n      navigate('/');\n    } catch (err) {\n      alert(err.response?.data?.message || 'Failed to place order');\n      setIsPlacingOrder(false);\n    }\n  }\n\n  function updateQty(idx, delta) {\n    const newCart = [...cart];\n    newCart[idx].qty = Math.max(1, newCart[idx].qty + delta);\n    saveCart(newCart);\n    setCart(newCart);\n  }\n\n  function removeItem(idx) {\n    if (!window.confirm('Remove this item from cart?')) return;\n    const newCart = [...cart];\n    newCart.splice(idx,1);\n    saveCart(newCart);\n    setCart(newCart);\n    if (newCart.length === 0) {\n      setOfferResult(null);\n    }\n  }\n\n  if (cart.length === 0) {\n    return (\n      <div className=\"checkout-page\">\n        <div className=\"checkout-page-container\">\n          <div className=\"empty-cart\">\n            <div className=\"empty-cart-icon\">üõí</div>\n            <h2>Your cart is empty</h2>\n            <p>Add some products to your cart to continue shopping.</p>\n            <Link to=\"/products\" className=\"btn\">Continue Shopping</Link>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"checkout-page\">\n      <div className=\"checkout-page-container\">\n        <h1 className=\"checkout-title\">Checkout</h1>\n        \n        <div className=\"checkout-grid\">\n          {/* Left Column - Cart Items */}\n          <div className=\"checkout-left\">\n            <div className=\"cart-items-section\">\n              <h2 className=\"section-title\">Cart Items ({cart.length})</h2>\n              <div className=\"cart-items-list\">\n                {cart.map((it, idx) => (\n                  <div key={it.productId || idx} className=\"cart-item\">\n                    <div className=\"cart-item-image\">\n                      {it.image ? (\n                        <img \n                          src={it.image} \n                          alt={it.name}\n                          onError={(e) => {\n                            e.target.src = 'https://via.placeholder.com/100x100?text=No+Image';\n                          }}\n                        />\n                      ) : (\n                        <div className=\"cart-item-placeholder\">No Image</div>\n                      )}\n                    </div>\n                    <div className=\"cart-item-details\">\n                      <h3 className=\"cart-item-name\">{it.name}</h3>\n                      <div className=\"cart-item-price\">‚Çπ{it.price.toLocaleString()}</div>\n                      <div className=\"cart-item-actions\">\n                        <div className=\"quantity-controls-small\">\n                          <button \n                            className=\"qty-btn-small\"\n                            onClick={() => updateQty(idx, -1)}\n                            disabled={it.qty <= 1}\n                          >\n                            ‚àí\n                          </button>\n                          <span className=\"qty-display\">{it.qty}</span>\n                          <button \n                            className=\"qty-btn-small\"\n                            onClick={() => updateQty(idx, +1)}\n                          >\n                            +\n                          </button>\n                        </div>\n                        <button \n                          className=\"remove-item-btn\"\n                          onClick={() => removeItem(idx)}\n                        >\n                          Remove\n                        </button>\n                      </div>\n                    </div>\n                    <div className=\"cart-item-total\">\n                      ‚Çπ{(it.price * it.qty).toLocaleString()}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n\n          {/* Right Column - Order Summary & Forms */}\n          <div className=\"checkout-right\">\n            {/* Coupon Section */}\n            <div className=\"checkout-section\">\n              <h2 className=\"section-title\">Apply Coupon</h2>\n              <div className=\"coupon-input-group\">\n                <input \n                  type=\"text\"\n                  className=\"coupon-input\"\n                  placeholder=\"Enter coupon code (e.g. WELCOME10)\"\n                  value={coupon}\n                  onChange={e => setCoupon(e.target.value)}\n                  onKeyPress={e => e.key === 'Enter' && applyCoupon()}\n                />\n                <button className=\"coupon-btn\" onClick={applyCoupon}>\n                  Apply\n                </button>\n              </div>\n              {offerResult && (\n                <div className=\"coupon-success\">\n                  <span className=\"coupon-success-icon\">‚úì</span>\n                  <div>\n                    <strong>{offerResult.offer.code}</strong> applied\n                    <div className=\"coupon-discount\">-‚Çπ{offerResult.discount.toLocaleString()} ({offerResult.offer.discountPercent}% off)</div>\n                  </div>\n                </div>\n              )}\n            </div>\n\n            {/* Shipping Section */}\n            <div className=\"checkout-section\">\n              <h2 className=\"section-title\">Shipping Address</h2>\n              <div className=\"shipping-form\">\n                <input\n                  type=\"text\"\n                  className=\"form-input\"\n                  placeholder=\"Street Address\"\n                  value={shipping.address}\n                  onChange={e => setShipping({...shipping, address: e.target.value})}\n                />\n                <div className=\"form-row\">\n                  <input\n                    type=\"text\"\n                    className=\"form-input\"\n                    placeholder=\"City\"\n                    value={shipping.city}\n                    onChange={e => setShipping({...shipping, city: e.target.value})}\n                  />\n                  <input\n                    type=\"text\"\n                    className=\"form-input\"\n                    placeholder=\"Postal Code\"\n                    value={shipping.postalCode}\n                    onChange={e => setShipping({...shipping, postalCode: e.target.value})}\n                  />\n                </div>\n                <input\n                  type=\"text\"\n                  className=\"form-input\"\n                  placeholder=\"Country\"\n                  value={shipping.country}\n                  onChange={e => setShipping({...shipping, country: e.target.value})}\n                />\n              </div>\n            </div>\n\n            {/* Order Summary */}\n            <div className=\"checkout-section order-summary\">\n              <h2 className=\"section-title\">Order Summary</h2>\n              <div className=\"summary-row\">\n                <span>Subtotal ({cart.reduce((s, it) => s + it.qty, 0)} items)</span>\n                <span>‚Çπ{itemsPrice.toLocaleString()}</span>\n              </div>\n              {offerResult && (\n                <div className=\"summary-row discount-row\">\n                  <span>Coupon Discount</span>\n                  <span>-‚Çπ{offerResult.discount.toLocaleString()}</span>\n                </div>\n              )}\n              <div className=\"summary-row\">\n                <span>Tax (5%)</span>\n                <span>‚Çπ{tax}</span>\n              </div>\n              <div className=\"summary-row\">\n                <span>Shipping</span>\n                <span>{shippingPrice === 0 ? 'Free' : `‚Çπ${shippingPrice}`}</span>\n              </div>\n              <div className=\"summary-divider\"></div>\n              <div className=\"summary-row total-row\">\n                <span>Total</span>\n                <span>‚Çπ{totalAfterCoupon.toLocaleString()}</span>\n              </div>\n            </div>\n\n            {/* Place Order Button */}\n            <button \n              className=\"place-order-btn\"\n              onClick={placeOrder}\n              disabled={isPlacingOrder}\n            >\n              {isPlacingOrder ? 'Placing Order...' : 'Place Order (Cash on Delivery)'}\n            </button>\n\n            <Link to=\"/products\" className=\"continue-shopping-link\">\n              ‚Üê Continue Shopping\n            </Link>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}